{"id":"metta-spider-hdh","content_hash":"e59ffbccaa9a5863e558b10548530441a466b07fb45db6e76d5b2b7dc084dd18","title":"Add entry point-based policy discovery to mettagrid","description":"The policy discovery in mettagrid/python/src/mettagrid/policy/loader.py only searches hardcoded packages (mettagrid.policy, metta.agent.policy, cogames.policy). External policies like metta_spider can't register short names.\n\nWould need to add entry point support like `[project.entry-points.\"mettagrid.policies\"]` so external packages can register policies via pyproject.toml.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-08T21:10:36.061044-05:00","updated_at":"2025-12-08T21:10:36.061044-05:00","source_repo":".","labels":["mettagrid","upstream"]}
{"id":"metta-spider-tas","content_hash":"143f5230d9bd117fb65afc53a06de5b4becc1f99b4337eeace34ae9e3bab91d3","title":"Multi-agent coordination produces fewer hearts than independent agents","description":"The new role-based coordination approach (commit fc6c565) produces fewer hearts than the old independent-agent approach (commit 86b36ce).\n\n**Results on training_facility with 4 agents:**\n- Old (independent): 56.33 hearts/episode\n- New (coordinated): 38.67 hearts/episode  \n- Baseline: 6.33 hearts/episode\n\n**Root cause hypothesis:**\n1. Only 1 assembler (SILICON role) - old policy had 4 agents assembling in parallel\n2. Deposit/withdraw overhead adds steps that don't produce hearts\n3. Coordination bottleneck serializes heart production\n\n**Options to explore:**\n- Hybrid: share map knowledge but let everyone assemble independently\n- More assemblers: multiple agents can assemble\n- Smarter task assignment based on agent position/state","notes":"**2025-12-09: Expected regression, architecture is the priority**\n\nThis regression is expected and acceptable. The old policy (4 independent agents all assembling) hit a local maximum with no path to coordinated strategies. The new architecture enables:\n- Shared map knowledge via SharedTeamState\n- Coordinated exploration (agents share discoveries)\n- Verified deposit tracking\n- Structured trace logging for debugging\n- Foundation for more sophisticated coordination\n\nThe 31% drop (56â†’38 hearts) is the cost of building coordination infrastructure. Performance recovery is iteration on a solid foundation, not blocked on merge.\n\n**Next steps:**\n1. Merge PR #3 as-is\n2. Experiment with hybrid approach: share map knowledge but allow opportunistic assembly\n3. Tune role assignment (more assemblers, dynamic role switching)","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-08T23:39:02.169177-05:00","updated_at":"2025-12-09T00:15:16.079384-05:00","source_repo":".","labels":["multi-agent","performance"]}
